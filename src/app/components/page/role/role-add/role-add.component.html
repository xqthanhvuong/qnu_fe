<div class="rounded-4 w-100 h-100" style="position: relative; overflow: hidden;">
  <div class="d-flex align-items-center h-10 mb-2">
    <div class="fs-4 fw-bold">Role</div>
    <div class="mx-2">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
      >
        <path
          d="M4.21948 3.09961C2.46948 3.09961 1.40953 5.01961 2.32953 6.50961L5.09949 10.9396C5.46949 11.5296 5.46949 12.4896 5.09949 13.0796L2.32953 17.5096C1.39953 18.9896 2.46948 20.9196 4.21948 20.9196H14.6695C15.2795 20.9196 16.0795 20.5196 16.4495 20.0296L21.6295 13.1296C22.0895 12.5196 22.1295 11.4896 21.7295 10.8496L17.5495 4.16961C17.1895 3.58961 16.3395 3.11961 15.6595 3.11961H8.65949"
          stroke="#292D32"
          stroke-width="1.5"
          stroke-miterlimit="10"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    </div>
    <div *ngIf="!isEditMode; else editAdvisorMode" class="fs-4 fw-bold">Add Role</div>
    <ng-template #editAdvisorMode>
      <div class="fs-4 fw-bold">Edit Role</div>
    </ng-template>
  </div>
  <div class="h-90" style="overflow: hidden;">
    <div class="me-4 h-30" >
      <div class="card p-4 text-start rounded-4">
        <div class="row px-3">
          <div class="col-5">
            <div class="mb-3">
              <label for="roleName" class="form-label">Role name<span style="color: red;">*</span></label>
              <input
                pInputText
                [(ngModel)]="roleName"
                type="text"
                class="w-90"
                id="roleName"
                placeholder="Enter role name"
                tabindex="1"
              />
            </div>
          </div>
          <div class="col-3">
            <div class="mb-3">
              <label for="academicYear" class="form-label">Status</label>
              <div class="d-flex align-items-center">
                <div class="form-check">
                  <input style="cursor: pointer;" class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
                  <label style="cursor: pointer;" class="form-check-label" for="exampleRadios1">
                    Active
                  </label>
                </div>
                <div class="form-check ms-4">
                  <input style="cursor: pointer;" class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option1" >
                  <label style="cursor: pointer;" class="form-check-label" for="exampleRadios2">
                    Inactive
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="col-4 d-flex justify-content-end align-items-center">
            <div class="text-center">
              <button type="button" *ngIf="!isEditMode" (click)="addRole()" class="btn btn-primary px-5">Add Now</button>
              <button type="button" *ngIf="isEditMode" (click)="updateRole()" class="btn btn-primary px-5">Edit Now</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="w-100 h-70 mt-2 d-flex">
      <div class="col-4 h-100">
        <div class="h-90" style="overflow-y: scroll;">
          <ul
            class="nav nav-fill nav-pills flex-column border border-1 rounded-4 "
            style=" background-color: white;"
          >
            <li
              *ngFor="
                let item of permissions;
                let isFirst = first;
                let isLast = last;
                let i = index;
              "
              (click)="setActivePermission(item.name,i)"
              class="nav-item"
            >
              <a
                class="nav-link border border-1"
                [ngClass]="{
                  'active': item.ischeck 
                }"
                [ngStyle]="{
                  'border-radius': isFirst ? '1rem 1rem 0 0' : isLast ? '0 0 1rem 1rem' : '0'
                }"
                style="cursor: pointer;"
                >{{item.name}}</a
              >
            </li>
          </ul>
        </div>
      </div>
      <div class="col p-4 flex-grow-1 mx-4 rounded-4 border border-1 h-70" style="background-color: white;" >
        <div *ngIf="selectedPermissions">
          <div class="d-flex justify-content-between w-100 mb-2" style="border-bottom: 1px solid #ccc;">
            <div class="fw-bold">
              Check Permissions for {{selectedPermissions.name}}
            </div>
            <div class="form-check form-switch">
              <input style="cursor: pointer;" class="form-check-input" [checked]="isSelectAll(selectedPermissions)" (click)="selectAllPermissions(selectedPermissions)" type="checkbox" [id]="'flexSwitchCheck'+selectedIndex">
              <label style="cursor: pointer;" class="form-check-label" [for]="'flexSwitchCheck'+selectedIndex">Select all</label>
            </div>
          </div>
          <div class="form-check form-switch">
          <div class="mb-1" *ngFor="let permission of selectedPermissions.permission; let i = index">
            <input type="checkbox" 
                    class="form-check-input"
                   [(ngModel)]="permission.ischeck" 
                   [id]="'checkbox-' + permission.id" 
                   style="cursor: pointer;"
                   [checked]="permission.ischeck" />
            <label style="cursor: pointer;" class="mx-2 form-check-label" [for]="'checkbox-' + permission.id">{{ permission.name + ' ' + selectedPermissions.name| titlecase }}</label>
          </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
