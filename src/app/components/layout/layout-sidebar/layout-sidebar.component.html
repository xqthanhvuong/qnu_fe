<!-- <button
class="sidebar-toggle-btn fixed-top" style="top: 50%; left: 0%; width: 10%;"
*ngIf="!isSidebarVisible"
(click)="isSidebarVisible = true"
>
➤
</button> -->
<div class="arrow fixed-top sidebar-toggle-btn" style="top: 50%; left: -5%; width: 10%;"
*ngIf="!isSidebarVisible"
(click)="isSidebarVisible = true"
>
  <span></span>
  <span></span>
  <span></span>
</div>


<div class="h-100 d-flex w-100 ">
  <div class="w-20 h-100 fixed-top sidebar-animated me-4 position-md-relative" style="top: 56px !important; overflow: hidden;" [ngStyle]="{ width: isSidebarVisible ? '240px' : '0px' }">

    <div
      class="d-flex h-100 flex-column flex-shrink-0 p-1 p-md-3 bg-body border border-1"
      style="width: 240px"
    >
    
    <div class="d-flex justify-content-between">
      <div class="d-block">
        Menu
      </div>
      <button
      class=" hover-effect sidebar-close-btn mb-2"
      (click)="isSidebarVisible = false"
    >
      ✖
    </button>
    </div>

      <ul
        class="nav h-90 nav-pills flex-column flex-nowrap scrollable mb-auto"
        style="overflow-y: scroll"
      >
        <li class="nav-item hover-effect" 
        *ngIf="isAdminRole() && authService.checkPermissions('VIEW_DEPARTMENT')"
        >
          <a
            (click)="navigate('/department')"
            class="nav-link"
            [routerLink]="'/department'"
            [ngClass]="{
              active: isActive('/department'),
              'link-dark': !isActive('/department')
            }"
            aria-current="page"
          >
            <i class="me-2 bi bi-grid-1x2-fill"></i>
            {{'DEPARTMENT' | translate}}
          </a>
        </li>
        <li class="nav-item hover-effect"
        *ngIf="isAdminRole() && authService.checkPermissions('VIEW_COURSE')"
        >
          <a
            (click)="navigate('/batch')"
            class="nav-link"
            [routerLink]="'/batch'"
            [ngClass]="{
              active: isActive('/batch'),
              'link-dark': !isActive('/batch')
            }"
          >
            <i class="me-2 bi bi-calendar-check-fill"></i>
            {{'BATCH' | translate}}
          </a>
        </li>
        <li class="nav-item hover-effect"
        *ngIf="!isRoleStudent() && authService.checkPermissions('VIEW_LECTURER')"
        >
          <a
            (click)="navigate('/lecturer')"
            class="nav-link"
            [routerLink]="'/lecturer'"
            [ngClass]="{
              active: isActive('/lecturer'),
              'link-dark': !isActive('/lecturer')
            }"
          >
            <i class="me-2 bi bi-person-video3"></i>
            {{'LECTURER' | translate}}
          </a>
        </li>
        <li class="nav-item hover-effect"
        *ngIf="!isRoleStudent() && authService.checkPermissions('VIEW_STAFF')"
        >
          <a
            (click)="navigate('/staff')"
            class="nav-link"
            [routerLink]="'/staff'"
            [ngClass]="{
              active: isActive('/staff'),
              'link-dark': !isActive('/staff')
            }"
          >
            <i class="me-2 bi bi-person-workspace"></i>
            {{'STAFF' | translate}}
          </a>
        </li>
        <li class="nav-item hover-effect"
        *ngIf="!isRoleStudent() && authService.checkPermissions('VIEW_CLASS')"
        >
          <a
            (click)="navigate('/class')"
            class="nav-link"
            [routerLink]="'/class'"
            [ngClass]="{
              active: isActive('/class'),
              'link-dark': !isActive('/class')
            }"
          >
            <i class="me-2 pi pi-users"></i>
            {{'CLASS' | translate}}
          </a>
        </li>
        <li class="nav-item hover-effect"
        *ngIf="!isRoleStudent() && authService.checkPermissions('VIEW_STUDENT')"
        >
          <a
            (click)="navigate('/students')"
            class="nav-link"
            [routerLink]="'/student'"
            [ngClass]="{
              active: isActive('/students'),
              'link-dark': !isActive('/students')
            }"
          >
            <i class="me-2 bi bi-mortarboard-fill"></i>
            {{'STUDENT' | translate}}
          </a>
        </li>
        <li class="nav-item hover-effect"
        *ngIf="isRoleStudent() || authService.checkPermissions('VIEW_ADVISOR')"
        >
          <a
            (click)="navigate('/advisors')"
            class="nav-link"
            [routerLink]="'/advisors'"
            [ngClass]="{
              active: isActive('/advisors'),
              'link-dark': !isActive('/advisors')
            }"
          >
            <i class="me-2 bi bi-person-lines-fill"></i>
            {{'ADVISOR' | translate}}
          </a>
        </li>
        <li class="nav-item hover-effect" *ngIf="authService.checkPermissions('VIEW_ROLE')">
          <a
            (click)="navigate('/role')"
            class="nav-link"
            [routerLink]="'/role'"
            [ngClass]="{
              active: isActive('/role'),
              'link-dark': !isActive('/role')
            }"
          >
            <i class="me-2 bi bi-person-bounding-box"></i>
            {{ 'ROLE' | translate }}
          </a>
        </li>
        <li class="nav-item hover-effect" *ngIf="!isAdminRole() && !isRoleStudent()">
          <a
            (click)="navigate('/my-class')"
            class="nav-link"
            [routerLink]="'/my-class'"
            [ngClass]="{
              active: isActive('/my-class'),
              'link-dark': !isActive('/my-class')
            }"
          >
            <i class="bi bi-easel3-fill me-2"></i>
            {{ 'MY_CLASS' | translate}}
          </a>
        </li>
        <li class="nav-item hover-effect" *ngIf="isRoleStudent()">
          <a
            (click)="navigate('/my-class/student')"
            class="nav-link"
            [routerLink]="'/my-class/student'"
            [ngClass]="{
              active: isActive('/my-class'),
              'link-dark': !isActive('/my-class')
            }"
          >
            <i class="bi bi-easel3-fill me-2"></i>
            {{ 'MY_CLASS' | translate}}
          </a>
        </li>
        <li class="nav-item hover-effect"
        *ngIf="!isRoleStudent() && authService.checkPermissions('VIEW_ACTIVITY')"
        >
          <a
            (click)="navigate('/activity')"
            class="nav-link"
            [routerLink]="'/activity'"
            [ngClass]="{
              active: isActive('/activity'),
              'link-dark': !isActive('/activity')
            }"
          >
            <i class="bi bi-card-checklist me-2"></i>
            {{'ACTIVITY' | translate}}
          </a>
        </li>
      </ul>
      <hr />
      <div class="dropdown">
        <a
          href="#"
          class="d-flex align-items-center link-dark text-decoration-none dropdown-toggle"
          id="dropdownUser2"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          <img
            src="https://github.com/mdo.png"
            alt=""
            width="32"
            height="32"
            class="rounded-circle me-2"
          />
          <strong>{{ username }}</strong>
        </a>
        <ul
        style="z-index: 1000;"
          class="dropdown-menu text-small shadow"
          aria-labelledby="dropdownUser2"
        >
          <li><a class="dropdown-item" href="#">New project...</a></li>
          <li><a class="dropdown-item" href="#">Settings</a></li>
          <li><a class="dropdown-item" href="#">Profile</a></li>
          <li>
            <hr class="dropdown-divider" />
          </li>
          <li><a class="dropdown-item" href="#">Sign out</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class=" h-100" style="max-width: 100%; flex:1">
    <router-outlet></router-outlet>
  </div>
</div>